{% extends "base.html" %}

{% block title %}Register Face - PRESENCE{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/student.css') }}">
{% endblock %}

{% block content %}
<div class="face-registration">
    <h2>Face Registration</h2>

    <div class="instruction-card">
        <h3>Instructions</h3>
        <ul>
            <li>Position your face within the frame</li>
            <li>Ensure good lighting</li>
            <li>Look directly at the camera</li>
            <li>Capture will run for 10 seconds</li>
        </ul>
    </div>

    <div class="camera-container">
        <video id="webcam" autoplay playsinline></video>
        <canvas id="canvas" style="display:none;"></canvas>
    </div>

    <div class="status-message" id="statusMessage"></div>

    <div class="button-group">
        <button id="startCapture" class="btn btn-primary">Start Capture</button>
        <button id="cancelCapture" class="btn btn-secondary" style="display:none;">Cancel</button>
    </div>

    <div class="progress-container" style="display:none;">
        <div class="progress-bar" id="progressBar"></div>
        <p id="progressText">Capturing...</p>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/camera.js') }}"></script>
<script src="{{ url_for('static', filename='js/student.js') }}"></script>
{% endblock %}
